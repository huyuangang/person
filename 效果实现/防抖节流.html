<!-- 防抖节流.html -->

<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>js防抖节流</title>
</head>
<body>
	<button id="btn1">防抖</button>
	<button id="btn2">节流</button>
</body>

<script>
	function debounce(foo, time){
		var timmer = null;
		return function(){
			clearTimeout(timmer);
			timmer = setTimeout(function(){
				foo();
			}, time);
		}
	}
	var btn1 = document.getElementById('btn1');
	btn1.addEventListener('click', debounce(function(){
		console.log('防抖');
	}, 300))

	function throttle(foo, time){
		var p = false;
		return function(){
			if(p)
				return;
			p = true;
			clearTimeout(timmer);
			var timmer = setTimeout(function(){
				foo();
				p = false;
			}, time)
		}
	}

	var btn2 = document.getElementById('btn2');
	btn2.addEventListener('click', throttle(function(){
		console.log('节流');
	}, 300))
</script>
</html>